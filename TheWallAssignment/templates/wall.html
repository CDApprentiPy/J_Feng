<!DOCTYPE html>
<html lang='en'>
    <head>
        <title>THE WALL</title>
        <meta charset='utf-8'>
        <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='wall_style.css')}}"/>
    </head>
    <body>
        <header id="header">
            <h1>Coding Dojo Wall</h1>
            <h2>
                Welcome, {{first_name}}!
                <form action="/logout">
                    <input type="submit" name="logout" value="Logout"/>
                </form>
            </h2>
        </header>

        <div id="content">
            {% with messages = get_flashed_messages() %}
                {% if messages %}
                    {% for message in messages %}
                        <p class="error">{{message}}</p>
                    {% endfor %}
                {% endif %}
            {% endwith %}

            <hr>
            <table>
                <tr>
                    <th>ID</th>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Email</th>
                    <th>Password</th>
                    <th>Salt</th>
                    <th>Created On</th>
                    <th>Message</th>
                </tr>
                {% for user in all_users %}
                <tr>
                    <td>{{ user['id'] }}</td>
                    <td>{{ user['first_name'] }}</td>
                    <td>{{ user['last_name'] }}</td>
                    <td>{{ user['email'] }}</td>
                    <td>{{ user['password'] }}</td>
                    <td>{{ user['salt'] }}</td>
                    <td>{{ user['created_at'] }}</td>
                    <td>{{ user['message'] }}</td>
                </tr>
                {% endfor %}
            </table>
        </div>
        <hr>
        <main id="wall_content">
            <form action="/post_message", method="POST">
                <p class="post_message">POST A MESSAGE:</p>   
                <textarea class="text_post" placeholder="Post your message." name="text_post"></textarea>
                <input type="submit" class="submit_post" value="POST"/>       
            </form>

            {% for post in all_posts %}
            <div class="user_post">
                <h3>{{ first_name }} {{ last_name }} {{ timestamp }}</h3>
                <p>{{ post }}</p>
            </div>
            {% endfor %}
        </main>
    </body>
</html>